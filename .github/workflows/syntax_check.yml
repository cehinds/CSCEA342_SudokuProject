name: Check PR (Dev -> Beta)

on:
  pull_request:
    # This ensures the check runs only when a PR targets the 'beta' branch
    branches: [ "beta" ]

jobs:
  syntax_check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Install Verilator (Syntax Checker)
        run: sudo apt-get install -y verilator

      - name: Run Syntax Check
        run: |
          # Finds all .sv files and runs a lint check
          # -Wall turns on all warnings
          # --lint-only tells Verilator not to compile C++, just check SV syntax
          verilator --lint-only -Wall --cc *.sv
          echo "Syntax Check Complete"
